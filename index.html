<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Care Point Master Training</title>
    <style>
        :root { --primary: #0f172a; --accent: #3b82f6; --success: #22c55e; --danger: #ef4444; --bg: #f8fafc; }
        body { font-family: 'Inter', system-ui, -apple-system, sans-serif; background: var(--bg); margin: 0; display: flex; align-items: center; justify-content: center; height: 100vh; padding: 10px; box-sizing: border-box; overflow: hidden; }
        .container { background: white; padding: 1.5rem; border-radius: 24px; width: 100%; max-width: 550px; box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.1); display: flex; flex-direction: column; height: 96vh; position: relative; }
        h1 { color: var(--primary); margin: 0; font-size: 1.3rem; font-weight: 900; text-transform: uppercase; letter-spacing: -0.05em; }
        .subtitle { color: var(--accent); font-size: 0.75rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 15px; }
        .stats-bar { display: flex; justify-content: space-between; font-weight: 800; color: #64748b; font-size: 0.7rem; margin-bottom: 8px; }
        .timer-track { height: 4px; background: #e2e8f0; border-radius: 2px; margin-bottom: 15px; }
        .timer-fill { height: 100%; background: var(--accent); width: 100%; transition: width 1s linear; }
        .question-box { min-height: 100px; display: flex; flex-direction: column; align-items: center; justify-content: center; margin-bottom: 15px; text-align: center; }
        .q-label { font-size: 0.65rem; font-weight: 900; color: var(--accent); text-transform: uppercase; margin-bottom: 5px; }
        .q-text { font-size: 1.1rem; font-weight: 700; color: var(--primary); line-height: 1.4; }
        #options { overflow-y: auto; flex-grow: 1; padding-right: 5px; }
        .option-btn { background: white; border: 2px solid #e2e8f0; padding: 12px; border-radius: 14px; width: 100%; margin-bottom: 10px; cursor: pointer; font-size: 0.85rem; font-weight: 600; color: #334155; transition: 0.2s; text-align: left; }
        .option-btn:hover { border-color: var(--accent); background: #f0f7ff; }
        .option-btn.correct { background: var(--success); color: white; border-color: var(--success); }
        .option-btn.wrong { background: var(--danger); color: white; border-color: var(--danger); }
        .main-btn { background: var(--primary); color: white; border: none; padding: 16px; border-radius: 16px; font-size: 0.9rem; font-weight: 800; cursor: pointer; width: 100%; text-transform: uppercase; }
        #mistakes { text-align: left; border: 1px solid #e2e8f0; padding: 12px; margin: 10px 0; border-radius: 16px; background: #f8fafc; font-size: 0.8rem; overflow-y: auto; }
        .input-group { margin-bottom: 10px; text-align: left; }
        .input-label { font-size: 0.7rem; font-weight: 800; color: #64748b; margin-bottom: 4px; display: block; text-transform: uppercase; }
        select { width: 100%; padding: 10px; border-radius: 10px; border: 2px solid #e2e8f0; font-weight: 600; background: white; }
        #quiz-screen, #end-screen { display: none; height: 100%; flex-direction: column; }
    </style>
</head>
<body>

<div class="container">
    <div id="start-screen">
        <h1>Care Point Diagnostics</h1>
        <p class="subtitle">Dombivli Branch Master Inventory</p>
        <div style="flex-grow:1; display:flex; flex-direction:column; justify-content:center;">
            <div class="input-group"><span class="input-label">Select Department:</span><select id="cat-filter"><option value="all">Full Database (Packages & Tests)</option><option value="Package">Health Packages</option><option value="Pathology">Pathology Tests</option><option value="Ultrasound">Sonography / USG</option><option value="X-Ray">Radiology (X-Ray)</option><option value="Special">Special Studies / ECG</option></select></div>
            <div class="input-group"><span class="input-label">Exam Length:</span><select id="limit-filter"><option value="25" selected>Standard (25 Questions)</option><option value="50">Manager (50 Questions)</option><option value="100">Pro (100 Questions)</option><option value="999">The Whole List</option></select></div>
        </div>
        <button class="main-btn" onclick="startQuiz()">Initialize Assessment</button>
    </div>

    <div id="quiz-screen">
        <div class="stats-bar"><span>SCORE: <span id="score">0</span></span><span>Q: <span id="q-num">1</span>/<span id="q-total">0</span></span></div>
        <div class="timer-track"><div class="timer-fill" id="timer"></div></div>
        <div class="question-box"><div id="q-cat" class="q-label"></div><div id="q-text" class="q-text"></div></div>
        <div id="options"></div>
        <div id="feedback" style="height:20px; font-weight:900; margin-top:5px; text-align:center;"></div>
        <button id="next-btn" class="main-btn" style="display:none; margin-top:10px;" onclick="nextQuestion()">Next Item</button>
    </div>

    <div id="end-screen">
        <h1>Assessment Report</h1>
        <p style="font-size:2rem; font-weight:900; margin: 10px 0;"><span id="final-score" style="color:var(--accent)"></span></p>
        <div id="mistakes"></div>
        <button class="main-btn" onclick="location.reload()">Restart Training</button>
    </div>
</div>

<script>
const database = [
    // --- HEALTH PACKAGES ---
    {c:"Package",n:"Body Profile (Basic)",p:2999,r:"Includes CBC, ESR, Diabetic/Renal/Lipid Profiles, Urine, USG AB+P, ECG, X-Ray Chest, 2D Echo, BP."},
    {c:"Package",n:"Body Profile (Extended)",p:2199,r:"Includes Liver/Renal/Lipid Profiles, Vitamins D3/B12, Thyroid, HIV/HCV/HBSAG/VDRL, ECG, X-Ray Chest."},
    {c:"Package",n:"Winter Package",p:2999,r:"Includes Testosterone, Lipid, Vit D3/B12, Liver/Renal, Iron Studies, Sugar Profile, X-Ray Chest, Thyroid, ECG."},
    {c:"Package",n:"Fever Profile",p:599,r:"Primary screening: CBC, ESR, Malaria Parasite, Widal, and Chest X-Ray."},
    {c:"Package",n:"Male Advance",p:6999,r:"Premium male wellness: PSA Total, HbA1c, Vit D3/B12, 2D Echo, USG, ECG, Chest X-Ray, and full panels."},
    {c:"Package",n:"Woman Advance",p:6999,r:"Premium female wellness: Hormonal (FSH/LH/Prolactin), Estradiol, Anti CCP, 2D Echo, USG, ECG, Chest X-Ray."},
    {c:"Package",n:"Cardiac Profile",p:3999,r:"Specialized heart check: CPK-MB, Troponin I, Troponin T, NT-PROBNP, ECG, X-Ray Chest."},
    {c:"Package",n:"Cancer Profile",p:3799,r:"Early tumor screen: PSA Total/Free, CA 125, CA 19.9, Procalcitonin, Calcium."},

    // --- RADIOLOGY (X-RAY) ---
    {c:"X-Ray",n:"Chest PA",p:500,r:"Checks lungs and heart; cough, chest pain, pneumonia, or TB screening."},
    {c:"X-Ray",n:"C Spine AP/LAT",p:900,r:"Neck imaging; trauma or spondylosis."},
    {c:"X-Ray",n:"L Spine AP/LAT",p:900,r:"Lower back; slip disc or sciatica."},
    {c:"X-Ray",n:"Dorsal (Thoracic) AP/LAT",p:900,r:"Mid-back imaging."},
    {c:"X-Ray",n:"Hand AP/LAT",p:900,r:"Orthopedic imaging for bones/joints."},
    {c:"X-Ray",n:"Elbow AP/LAT",p:900,r:"Orthopedic imaging for bones/joints."},
    {c:"X-Ray",n:"Wrist AP/LAT",p:900,r:"Orthopedic imaging for bones/joints."},
    {c:"X-Ray",n:"Foot AP/LAT",p:900,r:"Orthopedic imaging for bones/joints."},
    {c:"X-Ray",n:"Ankle AP/LAT",p:900,r:"Orthopedic imaging for bones/joints."},
    {c:"X-Ray",n:"Knee AP/LAT",p:900,r:"Orthopedic imaging for bones/joints."},
    {c:"X-Ray",n:"Leg AP/LAT",p:900,r:"Orthopedic imaging for bones/joints."},
    {c:"X-Ray",n:"Skull AP/LAT",p:900,r:"Head trauma or bony abnormalities."},
    {c:"X-Ray",n:"PNS",p:900,r:"Sinuses; chronic sinusitis or headache."},
    {c:"X-Ray",n:"IVP",p:3000,r:"Kidney stones/urinary tract blockages."},

    // --- SONOGRAPHY (ULTRASOUND) ---
    {c:"Ultrasound",n:"Early OBS Scan",p:1800,r:"Heartbeat and viability in early pregnancy."},
    {c:"Ultrasound",n:"Upper Abdomen / KUB",p:1800,r:"Stones or organ pain (Kidney/Ureter/Bladder)."},
    {c:"Ultrasound",n:"Abdomen + Pelvis",p:1800,r:"Comprehensive belly scan."},
    {c:"Ultrasound",n:"NT Scan (3-4 Month)",p:2800,r:"Chromosomal screening (Down Syndrome)."},
    {c:"Ultrasound",n:"Anomaly Scan",p:3500,r:"Detailed baby physical development check."},
    {c:"Ultrasound",n:"Colour Doppler (OBS)",p:3500,r:"High-risk pregnancy flow check."},
    {c:"Ultrasound",n:"Doppler (V/R/A)",p:3500,r:"Blood vessel flow check."},
    {c:"Ultrasound",n:"Small Parts",p:2500,r:"Lumps in Breast, Thyroid, or Scrotum."},
    {c:"Ultrasound",n:"Follicular Study",p:1500,r:"Egg release tracking."},
    {c:"Ultrasound",n:"2D Echo",p:2500,r:"Heart pumping and structural scan."},
    {c:"Ultrasound",n:"Fetal 2D Echo",p:4000,r:"Baby heart defect scan."},
    {c:"Ultrasound",n:"USG Scrotum",p:2500,r:"Testicular imaging."},
    {c:"Ultrasound",n:"B Scan",p:3000,r:"Eye imaging."},

    // --- SPECIAL STUDIES & ECG ---
    {c:"Special",n:"FNAC",p:4500,r:"Biopsy for lumps (breast/thyroid)."},
    {c:"Special",n:"Electrocardiography (ECG)",p:500,r:"Heart rhythm; chest pain or routine check."},
    {c:"Special",n:"Barium Swallow",p:2000,r:"Esophagus X-ray; difficulty swallowing."},
    {c:"Special",n:"Barium Meal",p:3500,r:"Stomach/intestine; ulcers or pain."},
    {c:"Special",n:"HSG",p:4500,r:"Infertility; checks if fallopian tubes are open."},

    // --- PATHOLOGY (COMPLETE LIST) ---
    {c:"Pathology",n:"APTT",p:600,r:"Clotting function."},
    {c:"Pathology",n:"AMH",p:2200,r:"Ovarian reserve (fertility potential)."},
    {c:"Pathology",n:"Ana Profile",p:5500,r:"Comprehensive Anemia workup."},
    {c:"Pathology",n:"Amylase",p:500,r:"Pancreatitis diagnosis."},
    {c:"Pathology",n:"ANC Profile",p:2500,r:"CBC, Sugar(F), HBSAG, TSH, Urine R, HCV, HIV, Blood group, VDRL."},
    {c:"Pathology",n:"Anti CCP",p:1400,r:"Rheumatoid Arthritis screening."},
    {c:"Pathology",n:"Alk. Phosphate",p:200,r:"Liver/Bone health marker."},
    {c:"Pathology",n:"Blood Group",p:250,r:"Determines blood type (A/B/O, Rh)."},
    {c:"Pathology",n:"BUN",p:200,r:"Blood Urea Nitrogen; kidney health."},
    {c:"Pathology",n:"Bilirubin",p:200,r:"Jaundice/Liver function."},
    {c:"Pathology",n:"B-HCG",p:600,r:"Pregnancy hormone confirmation."},
    {c:"Pathology",n:"BT CT",p:300,r:"Bleeding and Clotting Time."},
    {c:"Pathology",n:"CBC",p:250,r:"Anemia, infection, platelet count."},
    {c:"Pathology",n:"Creatinine",p:200,r:"Kidney filtration capability."},
    {c:"Pathology",n:"Calcium",p:200,r:"Bone health/deficiency."},
    {c:"Pathology",n:"Cholesterol",p:200,r:"Heart disease risk assessment."},
    {c:"Pathology",n:"CRP",p:500,r:"Inflammation marker."},
    {c:"Pathology",n:"CPK Total",p:400,r:"Muscle damage marker."},
    {c:"Pathology",n:"CPK MB",p:800,r:"Cardiac muscle marker."},
    {c:"Pathology",n:"Chikungunya",p:1500,r:"Chikungunya virus test."},
    {c:"Pathology",n:"Dengue NS1",p:600,r:"Early stage Dengue (Day 1-3)."},
    {c:"Pathology",n:"Dengue IgG/IgM",p:1200,r:"Later stage Dengue check."},
    {c:"Pathology",n:"Dual Marker",p:2800,r:"Down Syndrome screening (Fetal)."},
    {c:"Pathology",n:"ESR",p:100,r:"Infection/TB marker."},
    {c:"Pathology",n:"Electrolyte",p:600,r:"Na/K levels; hydration/heart."},
    {c:"Pathology",n:"Ferritin",p:800,r:"Iron storage levels."},
    {c:"Pathology",n:"Free TFT",p:1000,r:"Free T3, Free T4, TSH."},
    {c:"Pathology",n:"Free PSA",p:1000,r:"Prostate health."},
    {c:"Pathology",n:"G6PD",p:600,r:"Enzyme deficiency test."},
    {c:"Pathology",n:"FSH",p:500,r:"Reproductive health/periods."},
    {c:"Pathology",n:"HbA1c",p:500,r:"3-month average blood sugar."},
    {c:"Pathology",n:"HIV",p:400,r:"HIV 1 & 2 screening."},
    {c:"Pathology",n:"HCV",p:1000,r:"Hepatitis C screening."},
    {c:"Pathology",n:"HBsAg",p:800,r:"Hepatitis B screening."},
    {c:"Pathology",n:"Homocysteine",p:1200,r:"Heart/Artery health."},
    {c:"Pathology",n:"Iron Studies",p:700,r:"Total iron and binding capacity."},
    {c:"Pathology",n:"Insulin (F)",p:700,r:"Fasting insulin level."},
    {c:"Pathology",n:"Insulin (PP)",p:700,r:"Post-meal insulin level."},
    {c:"Pathology",n:"LFT",p:800,r:"Liver enzymes and bilirubin."},
    {c:"Pathology",n:"Lipase",p:500,r:"Pancreas health."},
    {c:"Pathology",n:"Lipid Profile",p:800,r:"Full cholesterol panel."},
    {c:"Pathology",n:"LH",p:500,r:"Reproductive hormone."},
    {c:"Pathology",n:"Malaria (MP)",p:300,r:"Malaria microscopy."},
    {c:"Pathology",n:"Malaria Antigen",p:700,r:"Rapid malaria kit test."},
    {c:"Pathology",n:"Montoux Test",p:500,r:"TB skin test."},
    {c:"Pathology",n:"Magnesium",p:500,r:"Mineral level test."},
    {c:"Pathology",n:"OGTT",p:400,r:"Glucose Tolerance Test."},
    {c:"Pathology",n:"PT-INR",p:500,r:"Blood thinning monitoring."},
    {c:"Pathology",n:"PSFOR MP",p:300,r:"Peripheral Smear for Malaria."},
    {c:"Pathology",n:"Prolactin",p:500,r:"Reproductive health."},
    {c:"Pathology",n:"Platelet Count",p:300,r:"Manual check for infection."},
    {c:"Pathology",n:"Quadruple Marker",p:3000,r:"Maternal screening panel."},
    {c:"Pathology",n:"RFT",p:1100,r:"Urea, Creatinine, Uric Acid."},
    {c:"Pathology",n:"RA Factor",p:500,r:"Arthritis screening."},
    {c:"Pathology",n:"RT-PCR",p:1000,r:"Molecular infection test."},
    {c:"Pathology",n:"Sugar (F)",p:100,r:"Fasting Blood Glucose."},
    {c:"Pathology",n:"Sugar (PP)",p:100,r:"Post-meal Blood Glucose."},
    {c:"Pathology",n:"Sugar (R)",p:100,r:"Random Blood Glucose."},
    {c:"Pathology",n:"SGOT",p:200,r:"Liver/Heart enzyme."},
    {c:"Pathology",n:"SGPT",p:200,r:"Liver health enzyme."},
    {c:"Pathology",n:"Stool R/M",p:250,r:"Parasites/Infection."},
    {c:"Pathology",n:"Stool C/S",p:1600,r:"Stool Culture & Sensitivity."},
    {c:"Pathology",n:"Semen Analysis",p:500,r:"Sperm count and motility."},
    {c:"Pathology",n:"T3 T4 TSH",p:600,r:"Thyroid profile."},
    {c:"Pathology",n:"Troponin I",p:1200,r:"Cardiac marker for Heart Attack."},
    {c:"Pathology",n:"Troponin T",p:1800,r:"Cardiac marker for Heart Attack."},
    {c:"Pathology",n:"Total Protein",p:200,r:"Protein levels (Alb/Glob)."},
    {c:"Pathology",n:"Urine R/M",p:300,r:"UTI, sugar, or kidney issues."},
    {c:"Pathology",n:"Urine C/S",p:1800,r:"Urine Culture & Sensitivity."},
    {c:"Pathology",n:"Urea",p:200,r:"Kidney health."},
    {c:"Pathology",n:"Uric Acid",p:200,r:"Gout or kidney stones."},
    {c:"Pathology",n:"VDRL",p:300,r:"Syphilis screening."},
    {c:"Pathology",n:"Vit D3",p:1200,r:"Bone health."},
    {c:"Pathology",n:"Vit B12",p:1000,r:"Nerve health."},
    {c:"Pathology",n:"Widal",p:300,r:"Typhoid fever test."}
];

let state={q:[],idx:0,score:0,mistakes:[]}, timer;

function startQuiz() {
    const cat=document.getElementById('cat-filter').value, lim=parseInt(document.getElementById('limit-filter').value);
    state.q=[];
    const pool = cat==='all'?database:database.filter(x=>x.c.includes(cat));
    pool.forEach(i=>{
        state.q.push({t:`What is the price of <b>${i.n}</b>?`, a:`₹${i.p}`, c:i.c, n:i.n});
        if(i.r) state.q.push({t:`What is the significance of <b>${i.n}</b>?`, a:i.r, c:i.c, n:i.n});
    });
    state.q.sort(()=>Math.random()-0.5);
    state.q=state.q.slice(0,lim);
    state.idx=0; state.score=0; state.mistakes=[];
    document.getElementById('start-screen').style.display='none';
    document.getElementById('quiz-screen').style.display='flex';
    document.getElementById('q-total').innerText=state.q.length;
    showQ();
}

function showQ() {
    if(state.idx>=state.q.length) return end();
    const q=state.q[state.idx];
    document.getElementById('q-num').innerText=state.idx+1;
    document.getElementById('q-cat').innerText=q.c;
    document.getElementById('q-text').innerHTML=q.t;
    document.getElementById('score').innerText=state.score;
    document.getElementById('feedback').innerText='';
    document.getElementById('next-btn').style.display='none';

    const isPrice = q.t.includes('price'), opts = new Set([q.a]);
    while(opts.size<4) {
        const r = database[Math.floor(Math.random()*database.length)];
        if(isPrice) opts.add(`₹${r.p}`); else opts.add(r.r);
    }

    const box = document.getElementById('options'); box.innerHTML='';
    Array.from(opts).sort(()=>Math.random()-0.5).forEach(o=>{
        const btn=document.createElement('button'); btn.className='option-btn'; btn.innerText=o;
        btn.onclick=()=>check(btn, o, q); box.appendChild(btn);
    });
    startTimer();
}

function startTimer() {
    clearInterval(timer); let t=15; const bar=document.getElementById('timer');
    timer=setInterval(()=>{ t--; bar.style.width=(t/15*100)+'%'; if(t<=0){clearInterval(timer); check(null,null,state.q[state.idx]);} }, 1000);
}

function check(btn, sel, q) {
    clearInterval(timer);
    document.querySelectorAll('.option-btn').forEach(b=>{b.disabled=true; if(b.innerText===q.a)b.classList.add('correct');});
    if(sel===q.a){state.score++; document.getElementById('feedback').innerHTML='<span style="color:var(--success)">✓ CORRECT</span>';}
    else{if(btn)btn.classList.add('wrong'); document.getElementById('feedback').innerHTML='<span style="color:var(--danger)">✗ INCORRECT</span>'; state.mistakes.push(`<b>${q.n}</b><br>Correct Answer: ${q.a}`);}
    document.getElementById('next-btn').style.display='block';
}

function nextQuestion(){state.idx++; showQ();}

function end() {
    document.getElementById('quiz-screen').style.display='none';
    document.getElementById('end-screen').style.display='flex';
    document.getElementById('final-score').innerText=Math.round((state.score/state.q.length)*100)+"%";
    const mBox=document.getElementById('mistakes');
    mBox.innerHTML = state.mistakes.length? '<h3>Review Items:</h3>'+state.mistakes.map(m=>`<div style="border-bottom:1px solid #e2e8f0; padding:10px 0;">${m}</div>`).join('') : '<div style="text-align:center; padding:20px;"><b>Mastery Achieved!</b></div>';
}
</script>
</body>
</html>
